!async function(){const e=await fetch("garages.json"),a=await e.json();function r(){let e=document.getElementById("playerSelect").value,r=document.getElementById("searchbox").value.toLowerCase();if(""==e)return alert("no player selected");requiredGarages="all"==e?a:t(e),filteredArray=[];for(let e=0;e<requiredGarages.length;e++){if(carsD=requiredGarages[e].cars_d.filter((function(e){return e.car_name.toLowerCase().includes(r)})),carsC=requiredGarages[e].cars_c.filter((function(e){return e.car_name.toLowerCase().includes(r)})),carsB=requiredGarages[e].cars_b.filter((function(e){return e.car_name.toLowerCase().includes(r)})),carsA=requiredGarages[e].cars_a.filter((function(e){return e.car_name.toLowerCase().includes(r)})),carsS=requiredGarages[e].cars_s.filter((function(e){return e.car_name.toLowerCase().includes(r)})),0===carsD.length&&0===carsC.length&&0===carsB.length&&0===carsA.length&&0===carsS.length)return l(filteredArray);newArrayItem=n(requiredGarages[e].player_name,carsD,carsC,carsB,carsA,carsS),filteredArray.push(newArrayItem)}console.log(filteredArray.length),l(filteredArray)}function t(e){let r=[];for(let t=0;t<a.length;t++)a[t].player_name==e&&r.push(a[t]);return r}function s(){let e=document.getElementById("playerSelect").value,r=document.getElementById("brandSelect").value,s=""+document.getElementById("starsSelect").value,c=document.getElementById("classSelect").value,d=document.getElementById("maxSelect").checked,i=document.getElementById("unlockSelect").checked;if(""==e)return document.getElementById("realResults").innerHTML="",void(document.getElementById("userGuide").style.display="block");if("all"==e?(document.getElementById("userGuide").style.display="none",requiredGarages=a):"all"!=e&&(document.getElementById("userGuide").style.display="none",requiredGarages=t(e)),"all"!=r){filteredArray=[];for(let e=0;e<requiredGarages.length;e++)carsD=requiredGarages[e].cars_d.filter((function(e){return e.brand_name.toLowerCase().includes(r)})),carsC=requiredGarages[e].cars_c.filter((function(e){return e.brand_name.toLowerCase().includes(r)})),carsB=requiredGarages[e].cars_b.filter((function(e){return e.brand_name.toLowerCase().includes(r)})),carsA=requiredGarages[e].cars_a.filter((function(e){return e.brand_name.toLowerCase().includes(r)})),carsS=requiredGarages[e].cars_s.filter((function(e){return e.brand_name.toLowerCase().includes(r)})),newArrayItem=n(requiredGarages[e].player_name,carsD,carsC,carsB,carsA,carsS),filteredArray.push(newArrayItem);requiredGarages=filteredArray}if("all"!=s){filteredArray=[];for(let e=0;e<requiredGarages.length;e++)carsD=requiredGarages[e].cars_d.filter((function(e){return e.stars==s})),carsC=requiredGarages[e].cars_c.filter((function(e){return e.stars==s})),carsB=requiredGarages[e].cars_b.filter((function(e){return e.stars==s})),carsA=requiredGarages[e].cars_a.filter((function(e){return e.stars==s})),carsS=requiredGarages[e].cars_s.filter((function(e){return e.stars==s})),newArrayItem=n(requiredGarages[e].player_name,carsD,carsC,carsB,carsA,carsS),filteredArray.push(newArrayItem);requiredGarages=filteredArray}if("all"!=c){filteredArray=[];for(let e=0;e<requiredGarages.length;e++)carsD=requiredGarages[e].cars_d.filter((function(e){return e.car_class.toLowerCase().includes(c)})),carsC=requiredGarages[e].cars_c.filter((function(e){return e.car_class.toLowerCase().includes(c)})),carsB=requiredGarages[e].cars_b.filter((function(e){return e.car_class.toLowerCase().includes(c)})),carsA=requiredGarages[e].cars_a.filter((function(e){return e.car_class.toLowerCase().includes(c)})),carsS=requiredGarages[e].cars_s.filter((function(e){return e.car_class.toLowerCase().includes(c)})),newArrayItem=n(requiredGarages[e].player_name,carsD,carsC,carsB,carsA,carsS),filteredArray.push(newArrayItem);requiredGarages=filteredArray}if(1==d){filteredArray=[];for(let e=0;e<requiredGarages.length;e++)carsD=requiredGarages[e].cars_d.filter((function(e){return e.is_max==d})),carsC=requiredGarages[e].cars_c.filter((function(e){return e.is_max==d})),carsB=requiredGarages[e].cars_b.filter((function(e){return e.is_max==d})),carsA=requiredGarages[e].cars_a.filter((function(e){return e.is_max==d})),carsS=requiredGarages[e].cars_s.filter((function(e){return e.is_max==d})),newArrayItem=n(requiredGarages[e].player_name,carsD,carsC,carsB,carsA,carsS),filteredArray.push(newArrayItem);requiredGarages=filteredArray}if(!0===i){filteredArray=[];for(let e=0;e<requiredGarages.length;e++)carsD=requiredGarages[e].cars_d.filter((function(e){return 0!=e.stars})),carsC=requiredGarages[e].cars_c.filter((function(e){return 0!=e.stars})),carsB=requiredGarages[e].cars_b.filter((function(e){return 0!=e.stars})),carsA=requiredGarages[e].cars_a.filter((function(e){return 0!=e.stars})),carsS=requiredGarages[e].cars_s.filter((function(e){return 0!=e.stars})),newArrayItem=n(requiredGarages[e].player_name,carsD,carsC,carsB,carsA,carsS),filteredArray.push(newArrayItem);requiredGarages=filteredArray}l(requiredGarages)}function n(e,a,r,t,s,n){return object={player_name:e,cars_d:a,cars_c:r,cars_b:t,cars_a:s,cars_s:n}}function c(e,a){var r=document.getElementById(e);"0px"!=r.style.height?(document.getElementById(a).style.transform="rotate(0deg)",r.style.height="0px"):"0px"==r.style.height&&(document.getElementById(a).style.transform="rotate(90deg)",r.style.height="max-content")}function l(e){if(document.getElementById("realResults").innerHTML="",0==e.length)document.getElementById("realResults").innerHTML='\n                <div style="padding: 150px;color:white;text-align:center;"><h4>No Results</h4></div>';else for(let r=0;r<e.length;r++){let t=document.createElement("div"),s=document.createElement("div");t.classList.add("blockTitle"),t.id="blockTitle"+r,s.classList.add("carBlock"),s.id="bigBlock"+r,t.innerHTML=`\n                    <h4 class="h4">${e[r].player_name.toUpperCase()}'s Garage</h4>\n                    <img class="arrow-image" src="body-images/filter_arrow.png" id="arrowOfBlockTitle${r}">\n                    `,document.getElementById("realResults").appendChild(t),document.getElementById("realResults").appendChild(s);let n=e[r],l="bigBlock"+r;if(0!=n.cars_d.length){let e=document.createElement("div"),t=document.createElement("div");e.classList.add("class_headings"),e.id="D_heading_"+r,t.classList.add("all_cars_box"),t.id="D_block_"+r,e.innerHTML=`\n                        <h4 class="h4">Class D</h4>\n                        <img class="arrow-image" src="body-images/filter_arrow.png" id="D_class_${r}_arrow">\n                    `,document.getElementById(l).appendChild(e),document.getElementById(l).appendChild(t);let s="D_block_"+r;document.getElementById("D_heading_"+r).addEventListener("click",(function(){c("D_block_"+r,"D_class_"+r+"_arrow")}));for(let e=0;e<n.cars_d.length;e++){let r=document.createElement("div");totalStars="",actualStars="",gold="",locked="";for(var a=0;a<n.cars_d[e].max_stars;a++)totalStars+="&#9733;";for(a=0;a<n.cars_d[e].stars;a++)actualStars+="&#9733;";1==n.cars_d[e].is_max&&(gold="maxtrue"),0==n.cars_d[e].stars&&(locked="url(body-images/locked-car.png),"),r.innerHTML=`\n                            <div class="car_info" style="background-image: ${locked} url(${n.cars_d[e].car_image}); background-repeat: no-repeat;\n                            background-size: 100% 100%;">\n                            <div class="car_name">${n.cars_d[e].car_name.toUpperCase()}</div>\n                            <div class="totalstars">${totalStars}</div>\n                            <div class="actualstars ${gold}" >${actualStars}</div>\n                            </div>\n                                        \n                        `,document.getElementById(s).appendChild(r)}}if(0!=n.cars_c.length){let e=document.createElement("div"),t=document.createElement("div");e.classList.add("class_headings"),e.id="C_heading_"+r,t.classList.add("all_cars_box"),t.id="C_block_"+r,e.innerHTML=`\n                        <h4 class="h4">Class C</h4>\n                        <img class="arrow-image" src="body-images/filter_arrow.png" id="C_class_${r}_arrow">\n                    `,document.getElementById(l).appendChild(e),document.getElementById(l).appendChild(t);let s="C_block_"+r;document.getElementById("C_heading_"+r).addEventListener("click",(function(){c("C_block_"+r,"C_class_"+r+"_arrow")}));for(let e=0;e<n.cars_c.length;e++){let r=document.createElement("div");totalStars="",actualStars="",gold="",locked="";for(a=0;a<n.cars_c[e].max_stars;a++)totalStars+="&#9733;";for(a=0;a<n.cars_c[e].stars;a++)actualStars+="&#9733;";1==n.cars_c[e].is_max&&(gold="maxtrue"),0==n.cars_c[e].stars&&(locked="url(body-images/locked-car.png),"),r.innerHTML=`\n                            <div class="car_info" style="background-image: ${locked} url(${n.cars_c[e].car_image}); background-repeat: no-repeat;\n                            background-size: 100% 100%;">\n                            <div class="car_name">${n.cars_c[e].car_name.toUpperCase()}</div>\n                            <div class="totalstars">${totalStars}</div>\n                            <div class="actualstars ${gold}" >${actualStars}</div>\n                            </div>\n                                        \n                        `,document.getElementById(s).appendChild(r)}}if(0!=n.cars_b.length){let e=document.createElement("div"),t=document.createElement("div");e.classList.add("class_headings"),e.id="B_heading_"+r,t.classList.add("all_cars_box"),t.id="B_block_"+r,e.innerHTML=`\n                        <h4 class="h4">Class B</h4>\n                        <img class="arrow-image" src="body-images/filter_arrow.png" id="B_class_${r}_arrow">\n                    `,document.getElementById(l).appendChild(e),document.getElementById(l).appendChild(t);let s="B_block_"+r;document.getElementById("B_heading_"+r).addEventListener("click",(function(){c("B_block_"+r,"B_class_"+r+"_arrow")}));for(let e=0;e<n.cars_b.length;e++){let r=document.createElement("div");totalStars="",actualStars="",gold="",locked="";for(a=0;a<n.cars_b[e].max_stars;a++)totalStars+="&#9733;";for(a=0;a<n.cars_b[e].stars;a++)actualStars+="&#9733;";1==n.cars_b[e].is_max&&(gold="maxtrue"),0==n.cars_b[e].stars&&(locked="url(body-images/locked-car.png),"),r.innerHTML=`\n                            <div class="car_info" style="background-image: ${locked} url(${n.cars_b[e].car_image}); background-repeat: no-repeat;\n                            background-size: 100% 100%;">\n                            <div class="car_name">${n.cars_b[e].car_name.toUpperCase()}</div>\n                            <div class="totalstars">${totalStars}</div>\n                            <div class="actualstars ${gold}" >${actualStars}</div>\n                            </div>\n                                        \n                        `,document.getElementById(s).appendChild(r)}}if(0!=n.cars_a.length){let e=document.createElement("div"),t=document.createElement("div");e.classList.add("class_headings"),e.id="A_heading_"+r,t.classList.add("all_cars_box"),t.id="A_block_"+r,e.innerHTML=`\n                        <h4 class="h4">Class A</h4>\n                        <img class="arrow-image" src="body-images/filter_arrow.png" id="A_class_${r}_arrow">\n                    `,document.getElementById(l).appendChild(e),document.getElementById(l).appendChild(t);let s="A_block_"+r;document.getElementById("A_heading_"+r).addEventListener("click",(function(){c("A_block_"+r,"A_class_"+r+"_arrow")}));for(let e=0;e<n.cars_a.length;e++){let r=document.createElement("div");totalStars="",actualStars="",gold="",locked="";for(a=0;a<n.cars_a[e].max_stars;a++)totalStars+="&#9733;";for(a=0;a<n.cars_a[e].stars;a++)actualStars+="&#9733;";1==n.cars_a[e].is_max&&(gold="maxtrue"),0==n.cars_a[e].stars&&(locked="url(body-images/locked-car.png),"),r.innerHTML=`\n                            <div class="car_info" style="background-image: ${locked} url(${n.cars_a[e].car_image}); background-repeat: no-repeat;\n                            background-size: 100% 100%;">\n                            <div class="car_name">${n.cars_a[e].car_name.toUpperCase()}</div>\n                            <div class="totalstars">${totalStars}</div>\n                            <div class="actualstars ${gold}" >${actualStars}</div>\n                            </div>\n                                        \n                        `,document.getElementById(s).appendChild(r)}}if(0!=n.cars_s.length){let e=document.createElement("div"),t=document.createElement("div");e.classList.add("class_headings"),e.id="S_heading_"+r,t.classList.add("all_cars_box"),t.id="S_block_"+r,e.innerHTML=`\n                        <h4 class="h4">Class S</h4>\n                        <img class="arrow-image" src="body-images/filter_arrow.png" id="S_class_${r}_arrow">\n                    `,document.getElementById(l).appendChild(e),document.getElementById(l).appendChild(t),document.getElementById("S_heading_"+r).addEventListener("click",(function(){c("S_block_"+r,"S_class_"+r+"_arrow")}));let s="S_block_"+r;for(let e=0;e<n.cars_s.length;e++){let r=document.createElement("div");totalStars="",actualStars="",gold="",locked="";for(a=0;a<n.cars_s[e].max_stars;a++)totalStars+="&#9733;";for(a=0;a<n.cars_s[e].stars;a++)actualStars+="&#9733;";1==n.cars_s[e].is_max&&(gold="maxtrue"),0==n.cars_s[e].stars&&(locked="url(body-images/locked-car.png),"),r.innerHTML=`\n                            <div class="car_info" style="background-image: ${locked} url(${n.cars_s[e].car_image}); background-repeat: no-repeat;\n                            background-size: 100% 100%;">\n                            <div class="car_name">${n.cars_s[e].car_name.toUpperCase()}</div>\n                            <div class="totalstars">${totalStars}</div>\n                            <div class="actualstars ${gold}" >${actualStars}</div>\n                            </div>`,document.getElementById(s).appendChild(r)}}document.getElementById("blockTitle"+r).addEventListener("click",(function(){c("bigBlock"+r,"arrowOfBlockTitle"+r)}))}}document.getElementById("searchbtn").addEventListener("click",r),document.getElementById("searchbox").addEventListener("keypress",(function(e){"Enter"===e.key&&""!==document.getElementById("searchbox").value&&r()})),document.getElementById("filtersSwitch").addEventListener("click",(function(){c("SectionHide","filtersHideShow")})),document.getElementById("playerSelect").addEventListener("change",s),document.getElementById("brandSelect").addEventListener("change",s),document.getElementById("starsSelect").addEventListener("change",s),document.getElementById("classSelect").addEventListener("change",s),document.getElementById("maxSelect").addEventListener("change",s),document.getElementById("unlockSelect").addEventListener("change",s)}();